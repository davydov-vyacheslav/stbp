## Геш дерева
### Мета
Ознайомитись з технологією MerkleTree

### Завдання

<!--TODO: simplify -->

<!-- TODO: presentation / materials -->

Створити екосистему (та продемонструвати її роботу), що складається з наступних компонентів:

- сервер. Має інформацію о файлах мережі у наступному вигляді: 
   - merkle root
   - Перелік клієнтів, що мають хоча б  частину контенту файлу та перелік блоків, які вони мають

- клієнт, що має хоча б частину контенту файлу. Дії, що можна проводити над клієнтом:
    - запитати частину файла. На вхід подається merkle root цого файлу, індекс блоку. На вихід дається контент файлу або помилка, якщо такого блоку немає
    - виконати верифікацію блока. На вхід подається merkle root, block hash. На вихід подається обрізане під-дерево (гілку до запитаного геша) стосовно алгоритму. Якщо block hash відсутній або невалідний - повертаєтсья стосовна помилка. 

- клієнт, що завантажує файл. Послідовність дій, що виконується:
   - отримує будь-яким чином merkle root бажаного для завантажування файлу
   - виконує завантаження блоку:
      - питає у сервера перелік клієнтів, що має певну частину цього файлу. 
      - завантажує блок
   - виконує верифікацію блоку:
       - виконує гешування блоку
       - обирає будь-який іннший сервер, що має цей блок та питає його частину merkle дерева. Якщо інший сервером нема, питаємо у того, з якого завантажували
       - самостійно проводить верифікацію гілки дерева 
       - якщо усе добре - зберігає блок, оновлює внутрішню базу даних, посилає запит на сервер для додання зпису, що даний клієт має блок з тиким індексом для певного файлу (merkle root)

Обмеження:

- розмір блоку файлу фіксований на протяжі усього життєвого циклу додатку, наприклад, 20Кб
- кожен клієнт має в собі базу даних MongoDB, в якому є перелік розтошування файлів та поточному хості на merkle дерево його контенту. При завантаженні кожного блоку дерево поповнюється автоматично.


### References

- https://people.eecs.berkeley.edu/~raluca/cs261-f15/readings/merkle.pdf
- https://www.codementor.io/blog/merkle-trees-5h9arzd3n8
- http://www.bittorrent.org/beps/bep_0030.html


### Questions

1. Що таке Merkle Tree?
2. Чому Merkle Tree має таку назву?
3. Які проблеми виникли разом із розвитком Інтернету?
4. Чому криптографічні хеш-функції не є оптимальним способом перевірки цілісності даних в Інтернеті?
5. Чому очікування отримання всіх даних перед тим, як перевірити, чи правильні вони, не є ефективним підходом?
6. Які проблеми вирішить зберігання хешів фрагментів інформації на сервері?
7. Які є недоліки такого методу?
8. Назвіть переваги та недоліки використання хеш-ланцюгів.
9. Як відбувається перевірка даних у Merkle Tree?
10.   Що таке аудиторське підтвердження?
11.   Чим використання Merkle Tree краще хеш-ланцюгів?
12.   Навіщо проводити перевірку узгодженості?
13.   Що потрібно для синхронізації даних за використання Merkle Tree?
14.   Наведіть приклади систем, у яких можуть бути використані Merkle Tree?
15.   У чому переваги використання Merkle Tree для систем контролю версій?
